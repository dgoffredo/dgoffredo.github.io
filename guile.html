<html>
<head>
  <meta charset="UTF-8"></meta>

  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"></link>

  
  <style media="(orientation: landscape)">body {
    /* Limiting the width (see p below), the chosen font, the line height, and
       the color, are all based off of what github.com does when displaying
       markdown. */
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica,
                 Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
                 "Segoe UI Symbol";
    font-size: 16pt;
    line-height: 1.5;
    color: #24292e;
}

/* Code snippets are only as wide as their content. */
pre {
    display: table;
    min-width: 700;
}

/* Make the background of code look different from surrounding text. */
code {
    background: #F0F0F0
}

p, .navigation-bar, table.posts, ul, ol {
    max-width: 700;
}

table.posts {
    width: 100%;
	font-size: 16pt;
    line-height: 2;
}

table.posts &gt; tbody &gt; tr:nth-child(even) {
  background-color: #eee6ff
}

div.table-of-contents {
    font-size: 14pt;
}

img.thumbnail {
    width: 700px;
}

.series-navigation {
    width: 100%;
    font-size: 12pt;
    max-width: 700px;
    text-align: center;
    margin-bottom: 20px;
}

.series-navigation-header {
    font-weight: bold;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-around;
}

.series-navigation-links {
    width: 100%;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-around;
    flex-wrap: wrap;
}

.series-page-item .series-navigation-header {
  background-color: #eee6ff
}

.navigation-bar {
    width: 100%;
    font-size: 14pt;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
</style><style media="(orientation: portrait)">body {
    /* The chosen font, the line height, and the color, are all based
       off of what github.com does when displaying markdown. */
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica,
                 Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
                 "Segoe UI Symbol";
    font-size: 16pt;
    line-height: 1.5;
    color: #24292e;
}

/* Code snippets are only as wide as their content. */
pre {
    display: table;
    width: 100%;
}

/* Make the background of code look different from surrounding text. */
code {
    background: #F0F0F0
}

p, .navigation-bar, table.posts, ul, ol {
    width: 100%;
}

table.posts {
    width: 100%;
	font-size: 16pt;
    line-height: 2;
}

table.posts &gt; tbody &gt; tr:nth-child(even) {
  background-color: #eee6ff
}

div.table-of-contents {
    font-size: 14pt;
}

img.thumbnail {
    width: 700px;
}

.series-navigation {
    width: 100%;
    font-size: 12pt;
    text-align: center;
    margin-bottom: 20px;
}

.series-navigation-header {
    font-weight: bold;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-around;
}

.series-navigation-links {
    width: 100%;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-around;
    flex-wrap: wrap;
}

.series-page-item .series-navigation-header {
  background-color: #eee6ff
}

.navigation-bar {
    width: 100%;
    font-size: 14pt;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
</style><style>.hljs{display:block;overflow-x:auto;padding:.5em;background:#f0f0f0}.hljs,.hljs-subst{color:#444}.hljs-comment{color:#888}.hljs-attribute,.hljs-doctag,.hljs-keyword,.hljs-meta-keyword,.hljs-name,.hljs-selector-tag{font-weight:700}.hljs-deletion,.hljs-number,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#800}.hljs-section,.hljs-title{color:#800;font-weight:700}.hljs-link,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#bc6060}.hljs-literal{color:#78a960}.hljs-addition,.hljs-built_in,.hljs-bullet,.hljs-code{color:#397300}.hljs-meta{color:#1f7199}.hljs-meta-string{color:#4d99bf}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><title>Installing Guile from Source</title>
</head>

<body>

<div class="navigation-bar">
    <a href="/posts.html">Posts</a>
    <a href="/series.html">Series</a>
    <a href="/mailinglist.html">Mailing List</a>
    <a href="https://github.com/dgoffredo">About</a>
    <a href="https://github.com/dgoffredo/dgoffredo.github.io">Code</a>
</div>


<p>Friday, April  30, 2021</p>

<div class="table-of-contents"><ul><li><a href="#installing_guile_from_source">Installing Guile from Source</a><ul><li><a href="#debian_packages">Debian Packages</a></li><li><a href="#installation">Installation</a></li></ul></li></ul></div>

<h1 id="installing_guile_from_source">Installing Guile from Source</h1>
<p>It's not hard, but the <a href="https://git.savannah.gnu.org/cgit/guile.git/tree/HACKING">HACKING</a> file doesn't cover it all, so here's the
rest.</p>
<h2 id="debian_packages">Debian Packages</h2>
<p>TL;DR: Do the following.</p>
<pre><code class="lang-console hljs"><span class="hljs-meta">$</span><span class="bash"> sudo apt install git</span>
<span class="hljs-meta">
$</span><span class="bash"> git <span class="hljs-built_in">clone</span> https://git.sv.gnu.org/git/guile.git</span>
<span class="hljs-meta">
$</span><span class="bash"> <span class="hljs-built_in">cd</span> guile</span>
<span class="hljs-meta">
$</span><span class="bash"> sudo apt install -y \
        autoconf automake libtool gettext flex \
        autopoint libreadline-dev pkg-config libgmp-dev \
        libunistring-dev libgc-dev make gperf texinfo</span>
<span class="hljs-meta">
$</span><span class="bash"> ./autogen.sh</span>
<span class="hljs-meta">
$</span><span class="bash"> ./configure</span>
<span class="hljs-meta">
$</span><span class="bash"> make -j 16</span>
<span class="hljs-meta">
$</span><span class="bash"> sudo make install</span>
<span class="hljs-meta">
$</span><span class="bash"> sudo ldconfig</span>
<span class="hljs-meta">
$</span><span class="bash"> guile</span>
</code></pre>
<p>Now in more detail.</p>
<p>Here are the dependencies mentioned in the <a href="https://git.savannah.gnu.org/cgit/guile.git/tree/HACKING">HACKING</a> file:</p>
<pre><code class="lang-console hljs"><span class="hljs-meta">$</span><span class="bash"> sudo apt install autoconf automake libtool gettext flex</span>
</code></pre>
<p>Then <code>./autogen.sh</code> wants the following, due to the presence of <code>gettext</code>:</p>
<pre><code class="lang-console hljs"><span class="hljs-meta">$</span><span class="bash"> sudo apt install autopoint</span>
</code></pre>
<p>I wouldn't want to use a REPL without readline support, so install that, too:</p>
<pre><code class="lang-console hljs"><span class="hljs-meta">$</span><span class="bash"> sudo apt install libreadline-dev</span>
</code></pre>
<p><code>./configure</code> will complain unless all of the following are installed:</p>
<pre><code class="lang-console hljs"><span class="hljs-meta">$</span><span class="bash"> sudo apt install pkg-config libgmp-dev libunistring-dev libgc-dev</span>
</code></pre>
<p>Then of course you need <code>make</code>, but also <code>gperf</code> (for some reason) and
<code>texinfo</code> for documentation:</p>
<pre><code class="lang-console hljs"><span class="hljs-meta">$</span><span class="bash"> sudo apt install make gperf texinfo</span>
</code></pre>
<h2 id="installation">Installation</h2>
<p>After <code>sudo make install</code>, guile will be installed under <code>/usr/local/</code>, but
will fail to run until you first refresh the loader's knowledge of where
shared objects are:</p>
<pre><code class="lang-console hljs"><span class="hljs-meta">$</span><span class="bash"> sudo ldconfig</span>
</code></pre>
<p>Finally, guile is ready:</p>
<pre><code class="lang-console hljs"><span class="hljs-meta">$</span><span class="bash"> guile</span>
GNU Guile 3.0.6.7-3bce5
Copyright (C) 1995-2021 Free Software Foundation, Inc.

Guile comes with ABSOLUTELY NO WARRANTY; for details type `,show w'.
This program is free software, and you are welcome to redistribute it
under certain conditions; type `,show c' for details.

Enter `,help' for help.
<span class="hljs-meta">scheme@(guile-user)&gt;</span><span class="bash"> </span>
</code></pre>


<div class="series-navigation-placeholder"></div>

<div class="navigation-bar">
    <a href="/posts.html">Posts</a>
    <a href="/series.html">Series</a>
    <a href="/mailinglist.html">Mailing List</a>
    <a href="https://github.com/dgoffredo">About</a>
    <a href="https://github.com/dgoffredo/dgoffredo.github.io">Code</a>
</div>


</body>
</html>